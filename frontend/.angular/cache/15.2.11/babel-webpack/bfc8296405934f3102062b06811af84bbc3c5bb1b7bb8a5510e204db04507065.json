{"ast":null,"code":"import { Subject, takeUntil, take } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/parking.service\";\nimport * as i3 from \"@angular/common\";\nfunction ParkingDetailComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 4);\n    i0.…µ…µelement(1, \"div\", 5);\n    i0.…µ…µelementStart(2, \"p\");\n    i0.…µ…µtext(3, \"Loading parking lot details...\");\n    i0.…µ…µelementEnd()();\n  }\n}\nfunction ParkingDetailComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 6)(1, \"p\");\n    i0.…µ…µtext(2);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"button\", 7);\n    i0.…µ…µlistener(\"click\", function ParkingDetailComponent_div_2_Template_button_click_3_listener() {\n      i0.…µ…µrestoreView(_r4);\n      const ctx_r3 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r3.goBack());\n    });\n    i0.…µ…µtext(4, \"\\u2190 Back to Dashboard\");\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r1.error);\n  }\n}\nfunction ParkingDetailComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"button\", 7);\n    i0.…µ…µlistener(\"click\", function ParkingDetailComponent_div_3_Template_button_click_2_listener() {\n      i0.…µ…µrestoreView(_r6);\n      const ctx_r5 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r5.goBack());\n    });\n    i0.…µ…µelementStart(3, \"span\");\n    i0.…µ…µtext(4, \"\\u2190\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(5, \" Back \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"h1\");\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"span\", 10);\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(10, \"div\", 11)(11, \"div\", 12)(12, \"div\", 13);\n    i0.…µ…µtext(13, \"\\uD83D\\uDE97\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(14, \"div\", 14)(15, \"h2\");\n    i0.…µ…µtext(16);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(17, \"p\");\n    i0.…µ…µtext(18, \"Available Now\");\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(19, \"div\", 15)(20, \"div\", 13);\n    i0.…µ…µtext(21, \"\\uD83D\\uDD50\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(22, \"div\", 14)(23, \"h2\");\n    i0.…µ…µtext(24);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(25, \"p\");\n    i0.…µ…µtext(26, \"In 30 Minutes\");\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(27, \"div\", 15)(28, \"div\", 13);\n    i0.…µ…µtext(29, \"\\uD83C\\uDD7F\\uFE0F\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(30, \"div\", 14)(31, \"h2\");\n    i0.…µ…µtext(32);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(33, \"p\");\n    i0.…µ…µtext(34, \"Total Capacity\");\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(35, \"div\", 15)(36, \"div\", 13);\n    i0.…µ…µtext(37, \"\\uD83D\\uDCCA\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(38, \"div\", 14)(39, \"h2\");\n    i0.…µ…µtext(40);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(41, \"p\");\n    i0.…µ…µtext(42, \"Occupancy Rate\");\n    i0.…µ…µelementEnd()()()();\n    i0.…µ…µelementStart(43, \"div\", 16)(44, \"h3\");\n    i0.…µ…µtext(45, \"\\uD83D\\uDD2E AI-Powered Prediction\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(46, \"p\", 17);\n    i0.…µ…µtext(47);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(48, \"div\", 18)(49, \"span\");\n    i0.…µ…µtext(50);\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(51, \"div\", 19)(52, \"div\", 20)(53, \"span\");\n    i0.…µ…µtext(54);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(55, \"span\");\n    i0.…µ…µtext(56);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(57, \"div\", 21);\n    i0.…µ…µelement(58, \"div\", 22);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(59, \"div\", 23)(60, \"h3\");\n    i0.…µ…µtext(61, \"\\uD83D\\uDCCD Location & Navigation\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(62, \"div\", 24)(63, \"button\", 25);\n    i0.…µ…µlistener(\"click\", function ParkingDetailComponent_div_3_Template_button_click_63_listener() {\n      i0.…µ…µrestoreView(_r6);\n      const ctx_r7 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r7.getDirections());\n    });\n    i0.…µ…µelementStart(64, \"span\");\n    i0.…µ…µtext(65, \"\\uD83E\\uDDED\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(66, \" Get Directions \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(67, \"button\", 26);\n    i0.…µ…µlistener(\"click\", function ParkingDetailComponent_div_3_Template_button_click_67_listener() {\n      i0.…µ…µrestoreView(_r6);\n      const ctx_r8 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r8.openInMaps());\n    });\n    i0.…µ…µelementStart(68, \"span\");\n    i0.…µ…µtext(69, \"\\uD83D\\uDDFA\\uFE0F\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(70, \" View on Map \");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(71, \"p\", 27);\n    i0.…µ…µtext(72);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(73, \"div\", 28)(74, \"p\");\n    i0.…µ…µtext(75);\n    i0.…µ…µpipe(76, \"date\");\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(7);\n    i0.…µ…µtextInterpolate(ctx_r2.lot.name);\n    i0.…µ…µadvance(1);\n    i0.…µ…µclassMap(ctx_r2.getStatusColor());\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r2.getStatusLabel(), \" \");\n    i0.…µ…µadvance(7);\n    i0.…µ…µtextInterpolate(ctx_r2.lot.availableSpots);\n    i0.…µ…µadvance(8);\n    i0.…µ…µtextInterpolate(ctx_r2.lot.predictedAvailability);\n    i0.…µ…µadvance(8);\n    i0.…µ…µtextInterpolate(ctx_r2.lot.totalSpots);\n    i0.…µ…µadvance(8);\n    i0.…µ…µtextInterpolate1(\"\", ctx_r2.getOccupancyRate().toFixed(1), \"%\");\n    i0.…µ…µadvance(7);\n    i0.…µ…µtextInterpolate(ctx_r2.getTrendMessage());\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"\\uD83D\\uDCC8 \", ctx_r2.lot.confidence, \"% Confidence\");\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate1(\"Occupied: \", ctx_r2.lot.totalSpots - ctx_r2.lot.availableSpots, \" spots\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"Available: \", ctx_r2.lot.availableSpots, \" spots\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µclassMap(ctx_r2.getStatusColor());\n    i0.…µ…µstyleProp(\"width\", ctx_r2.getOccupancyRate(), \"%\");\n    i0.…µ…µadvance(14);\n    i0.…µ…µtextInterpolate2(\" Coordinates: \", ctx_r2.lot.location.lat.toFixed(4), \", \", ctx_r2.lot.location.lng.toFixed(4), \" \");\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"Last updated: \", i0.…µ…µpipeBind2(76, 19, ctx_r2.lot.lastUpdate, \"short\"), \"\");\n  }\n}\nexport class ParkingDetailComponent {\n  constructor(route, router, parkingService) {\n    this.route = route;\n    this.router = router;\n    this.parkingService = parkingService;\n    this.lot = null;\n    this.isLoading = true;\n    this.error = null;\n    this.destroy$ = new Subject();\n  }\n  ngOnInit() {\n    const lotId = this.route.snapshot.paramMap.get('id');\n    if (!lotId) {\n      this.error = 'Invalid parking lot ID.';\n      this.isLoading = false;\n      return;\n    }\n    // OSM (live) lots use cache (no /:id call)\n    if (lotId.startsWith('osm-')) {\n      this.loadOsmLot(lotId);\n    } else {\n      // Mongo/DB lot ‚Äî load from API; loadDbLot will also subscribe to socket updates\n      this.loadDbLot(lotId);\n    }\n    // Patch current lot when realtime updates arrive\n    this.parkingService.parkingUpdates$.pipe(takeUntil(this.destroy$)).subscribe(update => {\n      if (this.lot && update.lotId === this.lot.id) {\n        this.lot = {\n          ...this.lot,\n          availableSpots: update.availableSpots,\n          lastUpdate: update.timestamp\n        };\n      }\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n    // Unsubscribe from DB lot‚Äôs room if applicable\n    if (this.lot && !this.lot.id.startsWith('osm-')) {\n      this.parkingService.unsubscribeFromParkingLot(this.lot.id);\n    }\n  }\n  /** DB-backed lot via REST; also joins its websocket room. */\n  loadDbLot(id) {\n    this.isLoading = true;\n    this.parkingService.getParkingLotById(id).pipe(takeUntil(this.destroy$)).subscribe({\n      next: lot => {\n        this.lot = lot;\n        this.error = null;\n        this.isLoading = false;\n        // join room for realtime updates\n        this.parkingService.subscribeToParkingLot(lot.id);\n      },\n      error: err => {\n        console.error('Error loading lot:', err);\n        this.error = 'Failed to load parking lot details.';\n        this.isLoading = false;\n      }\n    });\n  }\n  /**\r\n   * OSM lot: use the list already fetched on the dashboard.\r\n   * If deep-linked (not in cache), do one fetch and try again.\r\n   */\n  loadOsmLot(osmId) {\n    this.isLoading = true;\n    this.parkingService.parkingLots$.pipe(take(1)).subscribe(lots => {\n      const cached = lots.find(l => l.id === osmId) || null;\n      if (cached) {\n        this.lot = cached;\n        this.error = null;\n        this.isLoading = false;\n        return;\n      }\n      // One-time fetch fallback\n      this.parkingService.getAllParkingLots().pipe(take(1)).subscribe({\n        next: fresh => {\n          const again = fresh.find(l => l.id === osmId) || null;\n          if (again) {\n            this.lot = again;\n            this.error = null;\n          } else {\n            this.error = 'This live lot is not available. Open it from the dashboard after loading lots.';\n          }\n          this.isLoading = false;\n        },\n        error: err => {\n          console.error('Error loading live lots for OSM id:', err);\n          this.error = 'Failed to load parking lot details.';\n          this.isLoading = false;\n        }\n      });\n    });\n  }\n  // ------- Template helpers -------\n  getOccupancyRate() {\n    if (!this.lot) return 0;\n    return (this.lot.totalSpots - this.lot.availableSpots) / this.lot.totalSpots * 100;\n  }\n  getStatusColor() {\n    const o = this.getOccupancyRate();\n    if (o < 50) return 'green';\n    if (o < 80) return 'yellow';\n    return 'red';\n  }\n  getStatusLabel() {\n    const o = this.getOccupancyRate();\n    if (o < 50) return 'Available';\n    if (o < 80) return 'Moderate';\n    return 'Full';\n  }\n  getTrendMessage() {\n    if (!this.lot) return '';\n    const diff = this.lot.predictedAvailability - this.lot.availableSpots;\n    if (diff > 5) return 'More spots expected to open up soon!';\n    if (diff < -5) return 'Spots are filling up. Consider arriving soon.';\n    return 'Availability expected to remain stable.';\n  }\n  openInMaps() {\n    if (!this.lot) return;\n    window.open(`https://www.google.com/maps?q=${this.lot.location.lat},${this.lot.location.lng}`, '_blank');\n  }\n  getDirections() {\n    if (!this.lot) return;\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => window.open(`https://www.google.com/maps/dir/${pos.coords.latitude},${pos.coords.longitude}/${this.lot.location.lat},${this.lot.location.lng}`, '_blank'), () => this.openInMaps());\n    } else {\n      this.openInMaps();\n    }\n  }\n  goBack() {\n    this.router.navigate(['/']);\n  }\n  static {\n    this.…µfac = function ParkingDetailComponent_Factory(t) {\n      return new (t || ParkingDetailComponent)(i0.…µ…µdirectiveInject(i1.ActivatedRoute), i0.…µ…µdirectiveInject(i1.Router), i0.…µ…µdirectiveInject(i2.ParkingService));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: ParkingDetailComponent,\n      selectors: [[\"app-parking-detail\"]],\n      decls: 4,\n      vars: 3,\n      consts: [[1, \"detail-container\"], [\"class\", \"loading-state\", 4, \"ngIf\"], [\"class\", \"error-state\", 4, \"ngIf\"], [\"class\", \"detail-content\", 4, \"ngIf\"], [1, \"loading-state\"], [1, \"spinner\"], [1, \"error-state\"], [1, \"back-btn\", 3, \"click\"], [1, \"detail-content\"], [1, \"detail-header\"], [1, \"status-badge\"], [1, \"info-grid\"], [1, \"info-card\", \"highlight\"], [1, \"card-icon\"], [1, \"card-content\"], [1, \"info-card\"], [1, \"prediction-section\"], [1, \"prediction-text\"], [1, \"confidence-badge\"], [1, \"progress-section\"], [1, \"progress-header\"], [1, \"progress-bar-large\"], [1, \"progress-fill\"], [1, \"action-section\"], [1, \"action-buttons\"], [1, \"action-btn\", \"primary\", 3, \"click\"], [1, \"action-btn\", \"secondary\", 3, \"click\"], [1, \"coordinates\"], [1, \"update-info\"]],\n      template: function ParkingDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0);\n          i0.…µ…µtemplate(1, ParkingDetailComponent_div_1_Template, 4, 0, \"div\", 1);\n          i0.…µ…µtemplate(2, ParkingDetailComponent_div_2_Template, 5, 1, \"div\", 2);\n          i0.…µ…µtemplate(3, ParkingDetailComponent_div_3_Template, 77, 22, \"div\", 3);\n          i0.…µ…µelementEnd();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.isLoading);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.error);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.lot && !ctx.isLoading);\n        }\n      },\n      dependencies: [i3.NgIf, i3.DatePipe],\n      styles: [\".detail-container[_ngcontent-%COMP%] {\\r\\n  min-height: 100vh;\\r\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\r\\n  padding: 2rem;\\r\\n}\\r\\n\\r\\n.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  min-height: 50vh;\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.spinner[_ngcontent-%COMP%] {\\r\\n  width: 60px;\\r\\n  height: 60px;\\r\\n  border: 4px solid rgba(255, 255, 255, 0.3);\\r\\n  border-top-color: white;\\r\\n  border-radius: 50%;\\r\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\r\\n}\\r\\n\\r\\n@keyframes _ngcontent-%COMP%_spin {\\r\\n  to { transform: rotate(360deg); }\\r\\n}\\r\\n\\r\\n.detail-content[_ngcontent-%COMP%] {\\r\\n  max-width: 1000px;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\n.detail-header[_ngcontent-%COMP%] {\\r\\n  background: white;\\r\\n  border-radius: 16px;\\r\\n  padding: 2rem;\\r\\n  margin-bottom: 2rem;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 1.5rem;\\r\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.back-btn[_ngcontent-%COMP%] {\\r\\n  padding: 0.75rem 1.5rem;\\r\\n  background: #f7fafc;\\r\\n  border: 2px solid #e2e8f0;\\r\\n  border-radius: 8px;\\r\\n  font-weight: 600;\\r\\n  cursor: pointer;\\r\\n  transition: all 0.2s;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 0.5rem;\\r\\n}\\r\\n\\r\\n.back-btn[_ngcontent-%COMP%]:hover {\\r\\n  background: #e2e8f0;\\r\\n  transform: translateX(-4px);\\r\\n}\\r\\n\\r\\n.detail-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\r\\n  flex: 1;\\r\\n  font-size: 1.75rem;\\r\\n  font-weight: 700;\\r\\n  color: #1a202c;\\r\\n  margin: 0;\\r\\n}\\r\\n\\r\\n.status-badge[_ngcontent-%COMP%] {\\r\\n  padding: 0.75rem 1.5rem;\\r\\n  border-radius: 20px;\\r\\n  font-size: 1rem;\\r\\n  font-weight: 600;\\r\\n}\\r\\n\\r\\n.status-badge.green[_ngcontent-%COMP%] {\\r\\n  background: #d4edda;\\r\\n  color: #155724;\\r\\n}\\r\\n\\r\\n.status-badge.yellow[_ngcontent-%COMP%] {\\r\\n  background: #fff3cd;\\r\\n  color: #856404;\\r\\n}\\r\\n\\r\\n.status-badge.red[_ngcontent-%COMP%] {\\r\\n  background: #f8d7da;\\r\\n  color: #721c24;\\r\\n}\\r\\n\\r\\n.info-grid[_ngcontent-%COMP%] {\\r\\n  display: grid;\\r\\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\\r\\n  gap: 1.5rem;\\r\\n  margin-bottom: 2rem;\\r\\n}\\r\\n\\r\\n.info-card[_ngcontent-%COMP%] {\\r\\n  background: white;\\r\\n  border-radius: 16px;\\r\\n  padding: 2rem;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  gap: 1.5rem;\\r\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\r\\n  transition: transform 0.2s;\\r\\n}\\r\\n\\r\\n.info-card[_ngcontent-%COMP%]:hover {\\r\\n  transform: translateY(-4px);\\r\\n  box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);\\r\\n}\\r\\n\\r\\n.info-card.highlight[_ngcontent-%COMP%] {\\r\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.card-icon[_ngcontent-%COMP%] {\\r\\n  font-size: 3rem;\\r\\n}\\r\\n\\r\\n.card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\r\\n  font-size: 2.5rem;\\r\\n  font-weight: 700;\\r\\n  margin: 0;\\r\\n}\\r\\n\\r\\n.card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\r\\n  font-size: 0.875rem;\\r\\n  opacity: 0.8;\\r\\n  margin: 0.5rem 0 0 0;\\r\\n}\\r\\n\\r\\n.prediction-section[_ngcontent-%COMP%], .progress-section[_ngcontent-%COMP%], .action-section[_ngcontent-%COMP%] {\\r\\n  background: white;\\r\\n  border-radius: 16px;\\r\\n  padding: 2rem;\\r\\n  margin-bottom: 2rem;\\r\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n.prediction-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .action-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\r\\n  font-size: 1.25rem;\\r\\n  font-weight: 700;\\r\\n  color: #1a202c;\\r\\n  margin: 0 0 1rem 0;\\r\\n}\\r\\n\\r\\n.prediction-text[_ngcontent-%COMP%] {\\r\\n  font-size: 1.125rem;\\r\\n  color: #4a5568;\\r\\n  line-height: 1.6;\\r\\n  margin: 0 0 1rem 0;\\r\\n}\\r\\n\\r\\n.confidence-badge[_ngcontent-%COMP%] {\\r\\n  display: inline-block;\\r\\n  padding: 0.75rem 1.5rem;\\r\\n  background: #f0f4ff;\\r\\n  border-radius: 20px;\\r\\n  font-weight: 600;\\r\\n  color: #667eea;\\r\\n}\\r\\n\\r\\n.progress-section[_ngcontent-%COMP%] {\\r\\n  padding: 1.5rem 2rem;\\r\\n}\\r\\n\\r\\n.progress-header[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  margin-bottom: 1rem;\\r\\n  font-size: 0.875rem;\\r\\n  color: #4a5568;\\r\\n  font-weight: 600;\\r\\n}\\r\\n\\r\\n.progress-bar-large[_ngcontent-%COMP%] {\\r\\n  height: 40px;\\r\\n  background: #e2e8f0;\\r\\n  border-radius: 20px;\\r\\n  overflow: hidden;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.progress-fill[_ngcontent-%COMP%] {\\r\\n  height: 100%;\\r\\n  transition: width 0.3s ease;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  font-weight: 700;\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.progress-fill.green[_ngcontent-%COMP%] {\\r\\n  background: linear-gradient(90deg, #48bb78 0%, #38a169 100%);\\r\\n}\\r\\n\\r\\n.progress-fill.yellow[_ngcontent-%COMP%] {\\r\\n  background: linear-gradient(90deg, #ecc94b 0%, #d69e2e 100%);\\r\\n}\\r\\n\\r\\n.progress-fill.red[_ngcontent-%COMP%] {\\r\\n  background: linear-gradient(90deg, #f56565 0%, #e53e3e 100%);\\r\\n}\\r\\n\\r\\n.action-buttons[_ngcontent-%COMP%] {\\r\\n  display: grid;\\r\\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\r\\n  gap: 1rem;\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.action-btn[_ngcontent-%COMP%] {\\r\\n  padding: 1rem 2rem;\\r\\n  border: none;\\r\\n  border-radius: 12px;\\r\\n  font-weight: 600;\\r\\n  font-size: 1rem;\\r\\n  cursor: pointer;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  gap: 0.75rem;\\r\\n  transition: all 0.2s;\\r\\n}\\r\\n\\r\\n.action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\r\\n  font-size: 1.5rem;\\r\\n}\\r\\n\\r\\n.action-btn.primary[_ngcontent-%COMP%] {\\r\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.action-btn.primary[_ngcontent-%COMP%]:hover {\\r\\n  transform: translateY(-2px);\\r\\n  box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);\\r\\n}\\r\\n\\r\\n.action-btn.secondary[_ngcontent-%COMP%] {\\r\\n  background: #f7fafc;\\r\\n  border: 2px solid #e2e8f0;\\r\\n  color: #4a5568;\\r\\n}\\r\\n\\r\\n.action-btn.secondary[_ngcontent-%COMP%]:hover {\\r\\n  background: #e2e8f0;\\r\\n}\\r\\n\\r\\n.coordinates[_ngcontent-%COMP%] {\\r\\n  font-size: 0.875rem;\\r\\n  color: #718096;\\r\\n  margin: 0;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.update-info[_ngcontent-%COMP%] {\\r\\n  text-align: center;\\r\\n  padding: 1rem;\\r\\n  color: white;\\r\\n  font-size: 0.875rem;\\r\\n  opacity: 0.9;\\r\\n}\\r\\n\\r\\n@media (max-width: 768px) {\\r\\n  .detail-container[_ngcontent-%COMP%] {\\r\\n    padding: 1rem;\\r\\n  }\\r\\n\\r\\n  .detail-header[_ngcontent-%COMP%] {\\r\\n    flex-direction: column;\\r\\n    align-items: stretch;\\r\\n  }\\r\\n\\r\\n  .detail-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\r\\n    font-size: 1.5rem;\\r\\n  }\\r\\n\\r\\n  .info-grid[_ngcontent-%COMP%] {\\r\\n    grid-template-columns: 1fr;\\r\\n  }\\r\\n\\r\\n  .action-buttons[_ngcontent-%COMP%] {\\r\\n    grid-template-columns: 1fr;\\r\\n  }\\r\\n}\\r\\n\\r\\n.radius-group[_ngcontent-%COMP%] { display:flex; flex-direction:column; gap:.25rem; margin-right:1rem; }\\r\\n.radius-row[_ngcontent-%COMP%] { display:flex; align-items:center; gap:.5rem; }\\r\\n.radius-chip[_ngcontent-%COMP%] {\\r\\n  padding:.25rem .6rem; border-radius:9999px; font-weight:600;\\r\\n  background:#eef2ff; color:#334155; line-height:1;\\r\\n}\\r\\n\\r\\n\\r\\n.radius-group[_ngcontent-%COMP%]   input[type=\\\"range\\\"][_ngcontent-%COMP%] { width: 220px; accent-color: #6c7cff; }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wYXJraW5nLWRldGFpbC9wYXJraW5nLWRldGFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0VBQ2pCLDZEQUE2RDtFQUM3RCxhQUFhO0FBQ2Y7O0FBRUE7O0VBRUUsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGdCQUFnQjtFQUNoQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLDBDQUEwQztFQUMxQyx1QkFBdUI7RUFDdkIsa0JBQWtCO0VBQ2xCLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLEtBQUsseUJBQXlCLEVBQUU7QUFDbEM7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCx3Q0FBd0M7QUFDMUM7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixvQkFBb0I7RUFDcEIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsT0FBTztFQUNQLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLFNBQVM7QUFDWDs7QUFFQTtFQUNFLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFD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QUVBLHNFQUFzRTtBQUN0RSxvQ0FBb0MsWUFBWSxFQUFFLHFCQUFxQixFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiLmRldGFpbC1jb250YWluZXIge1xyXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7XHJcbiAgcGFkZGluZzogMnJlbTtcclxufVxyXG5cclxuLmxvYWRpbmctc3RhdGUsXHJcbi5lcnJvci1zdGF0ZSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgbWluLWhlaWdodDogNTB2aDtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5zcGlubmVyIHtcclxuICB3aWR0aDogNjBweDtcclxuICBoZWlnaHQ6IDYwcHg7XHJcbiAgYm9yZGVyOiA0cHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpO1xyXG4gIGJvcmRlci10b3AtY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHNwaW4ge1xyXG4gIHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxyXG59XHJcblxyXG4uZGV0YWlsLWNvbnRlbnQge1xyXG4gIG1heC13aWR0aDogMTAwMHB4O1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG59XHJcblxyXG4uZGV0YWlsLWhlYWRlciB7XHJcbiAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcclxuICBwYWRkaW5nOiAycmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogMS41cmVtO1xyXG4gIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbn1cclxuXHJcbi5iYWNrLWJ0biB7XHJcbiAgcGFkZGluZzogMC43NXJlbSAxLjVyZW07XHJcbiAgYmFja2dyb3VuZDogI2Y3ZmFmYztcclxuICBib3JkZXI6IDJweCBzb2xpZCAjZTJlOGYwO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiAwLjVyZW07XHJcbn1cclxuXHJcbi5iYWNrLWJ0bjpob3ZlciB7XHJcbiAgYmFja2dyb3VuZDogI2UyZThmMDtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTRweCk7XHJcbn1cclxuXHJcbi5kZXRhaWwtaGVhZGVyIGgxIHtcclxuICBmbGV4OiAxO1xyXG4gIGZvbnQtc2l6ZTogMS43NXJlbTtcclxuICBmb250LXdlaWdodDogNzAwO1xyXG4gIGNvbG9yOiAjMWEyMDJjO1xyXG4gIG1hcmdpbjogMDtcclxufVxyXG5cclxuLnN0YXR1cy1iYWRnZSB7XHJcbiAgcGFkZGluZzogMC43NXJlbSAxLjVyZW07XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICBmb250LXNpemU6IDFyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLnN0YXR1cy1iYWRnZS5ncmVlbiB7XHJcbiAgYmFja2dyb3VuZDogI2Q0ZWRkYTtcclxuICBjb2xvcjogIzE1NTcyNDtcclxufVxyXG5cclxuLnN0YXR1cy1iYWRnZS55ZWxsb3cge1xyXG4gIGJhY2tncm91bmQ6ICNmZmYzY2Q7XHJcbiAgY29sb3I6ICM4NTY0MDQ7XHJcbn1cclxuXHJcbi5zdGF0dXMtYmFkZ2UucmVkIHtcclxuICBiYWNrZ3JvdW5kOiAjZjhkN2RhO1xyXG4gIGNvbG9yOiAjNzIxYzI0O1xyXG59XHJcblxyXG4uaW5mby1ncmlkIHtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjIwcHgsIDFmcikpO1xyXG4gIGdhcDogMS41cmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbi5pbmZvLWNhcmQge1xyXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgcGFkZGluZzogMnJlbTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiAxLjVyZW07XHJcbiAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycztcclxufVxyXG5cclxuLmluZm8tY2FyZDpob3ZlciB7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC00cHgpO1xyXG4gIGJveC1zaGFkb3c6IDAgOHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcclxufVxyXG5cclxuLmluZm8tY2FyZC5oaWdobGlnaHQge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uY2FyZC1pY29uIHtcclxuICBmb250LXNpemU6IDNyZW07XHJcbn1cclxuXHJcbi5jYXJkLWNvbnRlbnQgaDIge1xyXG4gIGZvbnQtc2l6ZTogMi41cmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4uY2FyZC1jb250ZW50IHAge1xyXG4gIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiAgb3BhY2l0eTogMC44O1xyXG4gIG1hcmdpbjogMC41cmVtIDAgMCAwO1xyXG59XHJcblxyXG4ucHJlZGljdGlvbi1zZWN0aW9uLFxyXG4ucHJvZ3Jlc3Mtc2VjdGlvbixcclxuLmFjdGlvbi1zZWN0aW9uIHtcclxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICBib3JkZXItcmFkaXVzOiAxNnB4O1xyXG4gIHBhZGRpbmc6IDJyZW07XHJcbiAgbWFyZ2luLWJvdHRvbTogMnJlbTtcclxuICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG59XHJcblxyXG4ucHJlZGljdGlvbi1zZWN0aW9uIGgzLFxyXG4uYWN0aW9uLXNlY3Rpb24gaDMge1xyXG4gIGZvbnQtc2l6ZTogMS4yNXJlbTtcclxuICBmb250LXdlaWdodDogNzAwO1xyXG4gIGNvbG9yOiAjMWEyMDJjO1xyXG4gIG1hcmdpbjogMCAwIDFyZW0gMDtcclxufVxyXG5cclxuLnByZWRpY3Rpb24tdGV4dCB7XHJcbiAgZm9udC1zaXplOiAxLjEyNXJlbTtcclxuICBjb2xvcjogIzRhNTU2ODtcclxuICBsaW5lLWhlaWdodDogMS42O1xyXG4gIG1hcmdpbjogMCAwIDFyZW0gMDtcclxufVxyXG5cclxuLmNvbmZpZGVuY2UtYmFkZ2Uge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBwYWRkaW5nOiAwLjc1cmVtIDEuNXJlbTtcclxuICBiYWNrZ3JvdW5kOiAjZjBmNGZmO1xyXG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBjb2xvcjogIzY2N2VlYTtcclxufVxyXG5cclxuLnByb2dyZXNzLXNlY3Rpb24ge1xyXG4gIHBhZGRpbmc6IDEuNXJlbSAycmVtO1xyXG59XHJcblxyXG4ucHJvZ3Jlc3MtaGVhZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiAgY29sb3I6ICM0YTU1Njg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLnByb2dyZXNzLWJhci1sYXJnZSB7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIGJhY2tncm91bmQ6ICNlMmU4ZjA7XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLnByb2dyZXNzLWZpbGwge1xyXG4gIGhlaWdodDogMTAwJTtcclxuICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzIGVhc2U7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4ucHJvZ3Jlc3MtZmlsbC5ncmVlbiB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjNDhiYjc4IDAlLCAjMzhhMTY5IDEwMCUpO1xyXG59XHJcblxyXG4ucHJvZ3Jlc3MtZmlsbC55ZWxsb3cge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgI2VjYzk0YiAwJSwgI2Q2OWUyZSAxMDAlKTtcclxufVxyXG5cclxuLnByb2dyZXNzLWZpbGwucmVkIHtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICNmNTY1NjUgMCUsICNlNTNlM2UgMTAwJSk7XHJcbn1cclxuXHJcbi5hY3Rpb24tYnV0dG9ucyB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTtcclxuICBnYXA6IDFyZW07XHJcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxufVxyXG5cclxuLmFjdGlvbi1idG4ge1xyXG4gIHBhZGRpbmc6IDFyZW0gMnJlbTtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGdhcDogMC43NXJlbTtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcclxufVxyXG5cclxuLmFjdGlvbi1idG4gc3BhbiB7XHJcbiAgZm9udC1zaXplOiAxLjVyZW07XHJcbn1cclxuXHJcbi5hY3Rpb24tYnRuLnByaW1hcnkge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uYWN0aW9uLWJ0bi5wcmltYXJ5OmhvdmVyIHtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XHJcbiAgYm94LXNoYWRvdzogMCA4cHggMTZweCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuNCk7XHJcbn1cclxuXHJcbi5hY3Rpb24tYnRuLnNlY29uZGFyeSB7XHJcbiAgYmFja2dyb3VuZDogI2Y3ZmFmYztcclxuICBib3JkZXI6IDJweCBzb2xpZCAjZTJlOGYwO1xyXG4gIGNvbG9yOiAjNGE1NTY4O1xyXG59XHJcblxyXG4uYWN0aW9uLWJ0bi5zZWNvbmRhcnk6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6ICNlMmU4ZjA7XHJcbn1cclxuXHJcbi5jb29yZGluYXRlcyB7XHJcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuICBjb2xvcjogIzcxODA5NjtcclxuICBtYXJnaW46IDA7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4udXBkYXRlLWluZm8ge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBwYWRkaW5nOiAxcmVtO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gIG9wYWNpdHk6IDAuOTtcclxufVxyXG5cclxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgLmRldGFpbC1jb250YWluZXIge1xyXG4gICAgcGFkZGluZzogMXJlbTtcclxuICB9XHJcblxyXG4gIC5kZXRhaWwtaGVhZGVyIHtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcclxuICB9XHJcblxyXG4gIC5kZXRhaWwtaGVhZGVyIGgxIHtcclxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gIH1cclxuXHJcbiAgLmluZm8tZ3JpZCB7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcclxuICB9XHJcblxyXG4gIC5hY3Rpb24tYnV0dG9ucyB7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcclxuICB9XHJcbn1cclxuXHJcbi5yYWRpdXMtZ3JvdXAgeyBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgZ2FwOi4yNXJlbTsgbWFyZ2luLXJpZ2h0OjFyZW07IH1cclxuLnJhZGl1cy1yb3cgeyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOi41cmVtOyB9XHJcbi5yYWRpdXMtY2hpcCB7XHJcbiAgcGFkZGluZzouMjVyZW0gLjZyZW07IGJvcmRlci1yYWRpdXM6OTk5OXB4OyBmb250LXdlaWdodDo2MDA7XHJcbiAgYmFja2dyb3VuZDojZWVmMmZmOyBjb2xvcjojMzM0MTU1OyBsaW5lLWhlaWdodDoxO1xyXG59XHJcblxyXG4vKiBNYWtlIHRoZSBzbGlkZXIgbWF0Y2ggdGhlbWU7IG1vZGVybiBicm93c2VycyBzdXBwb3J0IGFjY2VudC1jb2xvciAqL1xyXG4ucmFkaXVzLWdyb3VwIGlucHV0W3R5cGU9XCJyYW5nZVwiXSB7IHdpZHRoOiAyMjBweDsgYWNjZW50LWNvbG9yOiAjNmM3Y2ZmOyB9XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AAEA,SAASA,OAAO,EAAEC,SAAS,EAAEC,IAAI,QAAQ,MAAM;;;;;;;ICC7CC,8BAA6C;IAC3CA,yBAA2B;IAC3BA,yBAAG;IAAAA,8CAA8B;IAAAA,iBAAI;;;;;;IAIvCA,8BAAuC;IAClCA,YAAW;IAAAA,iBAAI;IAClBA,iCAA4C;IAApCA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IAAkBA,wCAAmB;IAAAA,iBAAS;;;;IADrEA,eAAW;IAAXA,kCAAW;;;;;;IAKhBA,8BAAsD;IAI1CA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IACxBA,4BAAM;IAAAA,sBAAC;IAAAA,iBAAO;IAACA,sBACjB;IAAAA,iBAAS;IACTA,0BAAI;IAAAA,YAAc;IAAAA,iBAAK;IACvBA,gCAAsD;IACpDA,YACF;IAAAA,iBAAO;IAITA,gCAAuB;IAIIA,6BAAE;IAAAA,iBAAM;IAC/BA,gCAA0B;IACpBA,aAAwB;IAAAA,iBAAK;IACjCA,0BAAG;IAAAA,8BAAa;IAAAA,iBAAI;IAKxBA,gCAAuB;IACEA,6BAAE;IAAAA,iBAAM;IAC/BA,gCAA0B;IACpBA,aAA+B;IAAAA,iBAAK;IACxCA,0BAAG;IAAAA,8BAAa;IAAAA,iBAAI;IAKxBA,gCAAuB;IACEA,mCAAG;IAAAA,iBAAM;IAChCA,gCAA0B;IACpBA,aAAoB;IAAAA,iBAAK;IAC7BA,0BAAG;IAAAA,+BAAc;IAAAA,iBAAI;IAKzBA,gCAAuB;IACEA,6BAAE;IAAAA,iBAAM;IAC/BA,gCAA0B;IACpBA,aAAoC;IAAAA,iBAAK;IAC7CA,0BAAG;IAAAA,+BAAc;IAAAA,iBAAI;IAO3BA,gCAAgC;IAC1BA,mDAAwB;IAAAA,iBAAK;IACjCA,8BAA2B;IAAAA,aAAuB;IAAAA,iBAAI;IACtDA,gCAA8B;IACtBA,aAAmC;IAAAA,iBAAO;IAKpDA,gCAA8B;IAEpBA,aAAyD;IAAAA,iBAAO;IACtEA,6BAAM;IAAAA,aAAyC;IAAAA,iBAAO;IAExDA,gCAAgC;IAC9BA,2BAIM;IACRA,iBAAM;IAIRA,gCAA4B;IACtBA,mDAAwB;IAAAA,iBAAK;IACjCA,gCAA4B;IAClBA;MAAAA;MAAA;MAAA,OAASA,qCAAe;IAAA,EAAC;IAC/BA,6BAAM;IAAAA,6BAAE;IAAAA,iBAAO;IACfA,iCACF;IAAAA,iBAAS;IACTA,mCAA4D;IAApDA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAC5BA,6BAAM;IAAAA,mCAAG;IAAAA,iBAAO;IAChBA,8BACF;IAAAA,iBAAS;IAEXA,8BAAuB;IACrBA,aACF;IAAAA,iBAAI;IAINA,gCAAyB;IACpBA,aAAiD;;IAAAA,iBAAI;;;;IA3FpDA,eAAc;IAAdA,qCAAc;IACSA,eAA0B;IAA1BA,sCAA0B;IACnDA,eACF;IADEA,wDACF;IAUQA,eAAwB;IAAxBA,+CAAwB;IASxBA,eAA+B;IAA/BA,sDAA+B;IAS/BA,eAAoB;IAApBA,2CAAoB;IASpBA,eAAoC;IAApCA,oEAAoC;IAUjBA,eAAuB;IAAvBA,8CAAuB;IAE1CA,eAAmC;IAAnCA,6EAAmC;IAOnCA,eAAyD;IAAzDA,gGAAyD;IACzDA,eAAyC;IAAzCA,yEAAyC;IAK7CA,eAA0B;IAA1BA,sCAA0B;IAC1BA,uDAAoC;IAmBtCA,gBACF;IADEA,0HACF;IAKGA,eAAiD;IAAjDA,mGAAiD;;;ADvG1D,OAAM,MAAOC,sBAAsB;EAOjCC,YACUC,KAAqB,EACrBC,MAAc,EACdC,cAA8B;IAF9B,UAAK,GAALF,KAAK;IACL,WAAM,GAANC,MAAM;IACN,mBAAc,GAAdC,cAAc;IATxB,QAAG,GAAsB,IAAI;IAC7B,cAAS,GAAG,IAAI;IAChB,UAAK,GAAkB,IAAI;IAEnB,aAAQ,GAAG,IAAIR,OAAO,EAAQ;EAMnC;EAEHS,QAAQ;IACN,MAAMC,KAAK,GAAG,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACpD,IAAI,CAACH,KAAK,EAAE;MACV,IAAI,CAACI,KAAK,GAAG,yBAAyB;MACtC,IAAI,CAACC,SAAS,GAAG,KAAK;MACtB;;IAGF;IACA,IAAIL,KAAK,CAACM,UAAU,CAAC,MAAM,CAAC,EAAE;MAC5B,IAAI,CAACC,UAAU,CAACP,KAAK,CAAC;KACvB,MAAM;MACL;MACA,IAAI,CAACQ,SAAS,CAACR,KAAK,CAAC;;IAGvB;IACA,IAAI,CAACF,cAAc,CAACW,eAAe,CAChCC,IAAI,CAACnB,SAAS,CAAC,IAAI,CAACoB,QAAQ,CAAC,CAAC,CAC9BC,SAAS,CAACC,MAAM,IAAG;MAClB,IAAI,IAAI,CAACC,GAAG,IAAID,MAAM,CAACb,KAAK,KAAK,IAAI,CAACc,GAAG,CAACC,EAAE,EAAE;QAC5C,IAAI,CAACD,GAAG,GAAG;UACT,GAAG,IAAI,CAACA,GAAG;UACXE,cAAc,EAAEH,MAAM,CAACG,cAAc;UACrCC,UAAU,EAAEJ,MAAM,CAACK;SACpB;;IAEL,CAAC,CAAC;EACN;EAEAC,WAAW;IACT,IAAI,CAACR,QAAQ,CAACS,IAAI,EAAE;IACpB,IAAI,CAACT,QAAQ,CAACU,QAAQ,EAAE;IAExB;IACA,IAAI,IAAI,CAACP,GAAG,IAAI,CAAC,IAAI,CAACA,GAAG,CAACC,EAAE,CAACT,UAAU,CAAC,MAAM,CAAC,EAAE;MAC/C,IAAI,CAACR,cAAc,CAACwB,yBAAyB,CAAC,IAAI,CAACR,GAAG,CAACC,EAAE,CAAC;;EAE9D;EAEA;EACQP,SAAS,CAACO,EAAU;IAC1B,IAAI,CAACV,SAAS,GAAG,IAAI;IACrB,IAAI,CAACP,cAAc,CAACyB,iBAAiB,CAACR,EAAE,CAAC,CACtCL,IAAI,CAACnB,SAAS,CAAC,IAAI,CAACoB,QAAQ,CAAC,CAAC,CAC9BC,SAAS,CAAC;MACTQ,IAAI,EAAGN,GAAG,IAAI;QACZ,IAAI,CAACA,GAAG,GAAGA,GAAG;QACd,IAAI,CAACV,KAAK,GAAG,IAAI;QACjB,IAAI,CAACC,SAAS,GAAG,KAAK;QACtB;QACA,IAAI,CAACP,cAAc,CAAC0B,qBAAqB,CAACV,GAAG,CAACC,EAAE,CAAC;MACnD,CAAC;MACDX,KAAK,EAAGqB,GAAG,IAAI;QACbC,OAAO,CAACtB,KAAK,CAAC,oBAAoB,EAAEqB,GAAG,CAAC;QACxC,IAAI,CAACrB,KAAK,GAAG,qCAAqC;QAClD,IAAI,CAACC,SAAS,GAAG,KAAK;MACxB;KACD,CAAC;EACN;EAEA;;;;EAIQE,UAAU,CAACoB,KAAa;IAC9B,IAAI,CAACtB,SAAS,GAAG,IAAI;IAErB,IAAI,CAACP,cAAc,CAAC8B,YAAY,CAAClB,IAAI,CAAClB,IAAI,CAAC,CAAC,CAAC,CAAC,CAACoB,SAAS,CAACiB,IAAI,IAAG;MAC9D,MAAMC,MAAM,GAAGD,IAAI,CAACE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACjB,EAAE,KAAKY,KAAK,CAAC,IAAI,IAAI;MACrD,IAAIG,MAAM,EAAE;QACV,IAAI,CAAChB,GAAG,GAAGgB,MAAM;QACjB,IAAI,CAAC1B,KAAK,GAAG,IAAI;QACjB,IAAI,CAACC,SAAS,GAAG,KAAK;QACtB;;MAGF;MACA,IAAI,CAACP,cAAc,CAACmC,iBAAiB,EAAE,CAACvB,IAAI,CAAClB,IAAI,CAAC,CAAC,CAAC,CAAC,CAACoB,SAAS,CAAC;QAC9DQ,IAAI,EAAGc,KAAK,IAAI;UACd,MAAMC,KAAK,GAAGD,KAAK,CAACH,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACjB,EAAE,KAAKY,KAAK,CAAC,IAAI,IAAI;UACrD,IAAIQ,KAAK,EAAE;YACT,IAAI,CAACrB,GAAG,GAAGqB,KAAK;YAChB,IAAI,CAAC/B,KAAK,GAAG,IAAI;WAClB,MAAM;YACL,IAAI,CAACA,KAAK,GAAG,gFAAgF;;UAE/F,IAAI,CAACC,SAAS,GAAG,KAAK;QACxB,CAAC;QACDD,KAAK,EAAGqB,GAAG,IAAI;UACbC,OAAO,CAACtB,KAAK,CAAC,qCAAqC,EAAEqB,GAAG,CAAC;UACzD,IAAI,CAACrB,KAAK,GAAG,qCAAqC;UAClD,IAAI,CAACC,SAAS,GAAG,KAAK;QACxB;OACD,CAAC;IACJ,CAAC,CAAC;EACJ;EAEA;EACA+B,gBAAgB;IACd,IAAI,CAAC,IAAI,CAACtB,GAAG,EAAE,OAAO,CAAC;IACvB,OAAQ,CAAC,IAAI,CAACA,GAAG,CAACuB,UAAU,GAAG,IAAI,CAACvB,GAAG,CAACE,cAAc,IAAI,IAAI,CAACF,GAAG,CAACuB,UAAU,GAAI,GAAG;EACtF;EAEAC,cAAc;IACZ,MAAMC,CAAC,GAAG,IAAI,CAACH,gBAAgB,EAAE;IACjC,IAAIG,CAAC,GAAG,EAAE,EAAE,OAAO,OAAO;IAC1B,IAAIA,CAAC,GAAG,EAAE,EAAE,OAAO,QAAQ;IAC3B,OAAO,KAAK;EACd;EAEAC,cAAc;IACZ,MAAMD,CAAC,GAAG,IAAI,CAACH,gBAAgB,EAAE;IACjC,IAAIG,CAAC,GAAG,EAAE,EAAE,OAAO,WAAW;IAC9B,IAAIA,CAAC,GAAG,EAAE,EAAE,OAAO,UAAU;IAC7B,OAAO,MAAM;EACf;EAEAE,eAAe;IACb,IAAI,CAAC,IAAI,CAAC3B,GAAG,EAAE,OAAO,EAAE;IACxB,MAAM4B,IAAI,GAAG,IAAI,CAAC5B,GAAG,CAAC6B,qBAAqB,GAAG,IAAI,CAAC7B,GAAG,CAACE,cAAc;IACrE,IAAI0B,IAAI,GAAG,CAAC,EAAE,OAAO,sCAAsC;IAC3D,IAAIA,IAAI,GAAG,CAAC,CAAC,EAAE,OAAO,+CAA+C;IACrE,OAAO,yCAAyC;EAClD;EAEAE,UAAU;IACR,IAAI,CAAC,IAAI,CAAC9B,GAAG,EAAE;IACf+B,MAAM,CAACC,IAAI,CAAC,iCAAiC,IAAI,CAAChC,GAAG,CAACiC,QAAQ,CAACC,GAAG,IAAI,IAAI,CAAClC,GAAG,CAACiC,QAAQ,CAACE,GAAG,EAAE,EAAE,QAAQ,CAAC;EAC1G;EAEAC,aAAa;IACX,IAAI,CAAC,IAAI,CAACpC,GAAG,EAAE;IACf,IAAIqC,SAAS,CAACC,WAAW,EAAE;MACzBD,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACtCC,GAAG,IAAIT,MAAM,CAACC,IAAI,CAChB,mCAAmCQ,GAAG,CAACC,MAAM,CAACC,QAAQ,IAAIF,GAAG,CAACC,MAAM,CAACE,SAAS,IAAI,IAAI,CAAC3C,GAAI,CAACiC,QAAQ,CAACC,GAAG,IAAI,IAAI,CAAClC,GAAI,CAACiC,QAAQ,CAACE,GAAG,EAAE,EACpI,QAAQ,CACT,EACD,MAAM,IAAI,CAACL,UAAU,EAAE,CACxB;KACF,MAAM;MACL,IAAI,CAACA,UAAU,EAAE;;EAErB;EAEAc,MAAM;IACJ,IAAI,CAAC7D,MAAM,CAAC8D,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EAC7B;;;uBAjKWjE,sBAAsB;IAAA;EAAA;;;YAAtBA,sBAAsB;MAAAkE;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UCVnCvE,8BAA8B;UAG5BA,uEAGM;UAGNA,uEAGM;UAGNA,yEAqGM;UAERA,iBAAM;;;UAnHEA,eAAe;UAAfA,oCAAe;UAMfA,eAAW;UAAXA,gCAAW;UAMXA,eAAuB;UAAvBA,gDAAuB","names":["Subject","takeUntil","take","i0","ParkingDetailComponent","constructor","route","router","parkingService","ngOnInit","lotId","snapshot","paramMap","get","error","isLoading","startsWith","loadOsmLot","loadDbLot","parkingUpdates$","pipe","destroy$","subscribe","update","lot","id","availableSpots","lastUpdate","timestamp","ngOnDestroy","next","complete","unsubscribeFromParkingLot","getParkingLotById","subscribeToParkingLot","err","console","osmId","parkingLots$","lots","cached","find","l","getAllParkingLots","fresh","again","getOccupancyRate","totalSpots","getStatusColor","o","getStatusLabel","getTrendMessage","diff","predictedAvailability","openInMaps","window","open","location","lat","lng","getDirections","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","goBack","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\abhij\\Documents\\Smart-AI Parking Finder\\frontend\\src\\app\\components\\parking-detail\\parking-detail.component.ts","C:\\Users\\abhij\\Documents\\Smart-AI Parking Finder\\frontend\\src\\app\\components\\parking-detail\\parking-detail.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subject, takeUntil, take } from 'rxjs';\nimport { ParkingService, ParkingLot } from '../../services/parking.service';\n\n@Component({\n  selector: 'app-parking-detail',\n  templateUrl: './parking-detail.component.html',\n  styleUrls: ['./parking-detail.component.css']\n})\nexport class ParkingDetailComponent implements OnInit, OnDestroy {\n  lot: ParkingLot | null = null;\n  isLoading = true;\n  error: string | null = null;\n\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private parkingService: ParkingService\n  ) {}\n\n  ngOnInit(): void {\n    const lotId = this.route.snapshot.paramMap.get('id');\n    if (!lotId) {\n      this.error = 'Invalid parking lot ID.';\n      this.isLoading = false;\n      return;\n    }\n\n    // OSM (live) lots use cache (no /:id call)\n    if (lotId.startsWith('osm-')) {\n      this.loadOsmLot(lotId);\n    } else {\n      // Mongo/DB lot ‚Äî load from API; loadDbLot will also subscribe to socket updates\n      this.loadDbLot(lotId);\n    }\n\n    // Patch current lot when realtime updates arrive\n    this.parkingService.parkingUpdates$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(update => {\n        if (this.lot && update.lotId === this.lot.id) {\n          this.lot = {\n            ...this.lot,\n            availableSpots: update.availableSpots,\n            lastUpdate: update.timestamp\n          };\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n\n    // Unsubscribe from DB lot‚Äôs room if applicable\n    if (this.lot && !this.lot.id.startsWith('osm-')) {\n      this.parkingService.unsubscribeFromParkingLot(this.lot.id);\n    }\n  }\n\n  /** DB-backed lot via REST; also joins its websocket room. */\n  private loadDbLot(id: string): void {\n    this.isLoading = true;\n    this.parkingService.getParkingLotById(id)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: (lot) => {\n          this.lot = lot;\n          this.error = null;\n          this.isLoading = false;\n          // join room for realtime updates\n          this.parkingService.subscribeToParkingLot(lot.id);\n        },\n        error: (err) => {\n          console.error('Error loading lot:', err);\n          this.error = 'Failed to load parking lot details.';\n          this.isLoading = false;\n        }\n      });\n  }\n\n  /**\n   * OSM lot: use the list already fetched on the dashboard.\n   * If deep-linked (not in cache), do one fetch and try again.\n   */\n  private loadOsmLot(osmId: string): void {\n    this.isLoading = true;\n\n    this.parkingService.parkingLots$.pipe(take(1)).subscribe(lots => {\n      const cached = lots.find(l => l.id === osmId) || null;\n      if (cached) {\n        this.lot = cached;\n        this.error = null;\n        this.isLoading = false;\n        return;\n      }\n\n      // One-time fetch fallback\n      this.parkingService.getAllParkingLots().pipe(take(1)).subscribe({\n        next: (fresh) => {\n          const again = fresh.find(l => l.id === osmId) || null;\n          if (again) {\n            this.lot = again;\n            this.error = null;\n          } else {\n            this.error = 'This live lot is not available. Open it from the dashboard after loading lots.';\n          }\n          this.isLoading = false;\n        },\n        error: (err) => {\n          console.error('Error loading live lots for OSM id:', err);\n          this.error = 'Failed to load parking lot details.';\n          this.isLoading = false;\n        }\n      });\n    });\n  }\n\n  // ------- Template helpers -------\n  getOccupancyRate(): number {\n    if (!this.lot) return 0;\n    return ((this.lot.totalSpots - this.lot.availableSpots) / this.lot.totalSpots) * 100;\n  }\n\n  getStatusColor(): string {\n    const o = this.getOccupancyRate();\n    if (o < 50) return 'green';\n    if (o < 80) return 'yellow';\n    return 'red';\n  }\n\n  getStatusLabel(): string {\n    const o = this.getOccupancyRate();\n    if (o < 50) return 'Available';\n    if (o < 80) return 'Moderate';\n    return 'Full';\n  }\n\n  getTrendMessage(): string {\n    if (!this.lot) return '';\n    const diff = this.lot.predictedAvailability - this.lot.availableSpots;\n    if (diff > 5) return 'More spots expected to open up soon!';\n    if (diff < -5) return 'Spots are filling up. Consider arriving soon.';\n    return 'Availability expected to remain stable.';\n  }\n\n  openInMaps(): void {\n    if (!this.lot) return;\n    window.open(`https://www.google.com/maps?q=${this.lot.location.lat},${this.lot.location.lng}`, '_blank');\n  }\n\n  getDirections(): void {\n    if (!this.lot) return;\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        pos => window.open(\n          `https://www.google.com/maps/dir/${pos.coords.latitude},${pos.coords.longitude}/${this.lot!.location.lat},${this.lot!.location.lng}`,\n          '_blank'\n        ),\n        () => this.openInMaps()\n      );\n    } else {\n      this.openInMaps();\n    }\n  }\n\n  goBack(): void {\n    this.router.navigate(['/']);\n  }\n}\n","<div class=\"detail-container\">\n  \n  <!-- Loading State -->\n  <div *ngIf=\"isLoading\" class=\"loading-state\">\n    <div class=\"spinner\"></div>\n    <p>Loading parking lot details...</p>\n  </div>\n\n  <!-- Error State -->\n  <div *ngIf=\"error\" class=\"error-state\">\n    <p>{{ error }}</p>\n    <button (click)=\"goBack()\" class=\"back-btn\">‚Üê Back to Dashboard</button>\n  </div>\n\n  <!-- Parking Lot Details -->\n  <div *ngIf=\"lot && !isLoading\" class=\"detail-content\">\n    \n    <!-- Header -->\n    <div class=\"detail-header\">\n      <button (click)=\"goBack()\" class=\"back-btn\">\n        <span>‚Üê</span> Back\n      </button>\n      <h1>{{ lot.name }}</h1>\n      <span class=\"status-badge\" [class]=\"getStatusColor()\">\n        {{ getStatusLabel() }}\n      </span>\n    </div>\n\n    <!-- Main Info Cards -->\n    <div class=\"info-grid\">\n      \n      <!-- Current Availability -->\n      <div class=\"info-card highlight\">\n        <div class=\"card-icon\">üöó</div>\n        <div class=\"card-content\">\n          <h2>{{ lot.availableSpots }}</h2>\n          <p>Available Now</p>\n        </div>\n      </div>\n\n      <!-- Predicted Availability -->\n      <div class=\"info-card\">\n        <div class=\"card-icon\">üïê</div>\n        <div class=\"card-content\">\n          <h2>{{ lot.predictedAvailability }}</h2>\n          <p>In 30 Minutes</p>\n        </div>\n      </div>\n\n      <!-- Total Capacity -->\n      <div class=\"info-card\">\n        <div class=\"card-icon\">üÖøÔ∏è</div>\n        <div class=\"card-content\">\n          <h2>{{ lot.totalSpots }}</h2>\n          <p>Total Capacity</p>\n        </div>\n      </div>\n\n      <!-- Occupancy Rate -->\n      <div class=\"info-card\">\n        <div class=\"card-icon\">üìä</div>\n        <div class=\"card-content\">\n          <h2>{{ getOccupancyRate().toFixed(1) }}%</h2>\n          <p>Occupancy Rate</p>\n        </div>\n      </div>\n\n    </div>\n\n    <!-- Prediction Info -->\n    <div class=\"prediction-section\">\n      <h3>üîÆ AI-Powered Prediction</h3>\n      <p class=\"prediction-text\">{{ getTrendMessage() }}</p>\n      <div class=\"confidence-badge\">\n        <span>üìà {{ lot.confidence }}% Confidence</span>\n      </div>\n    </div>\n\n    <!-- Visual Progress Bar -->\n    <div class=\"progress-section\">\n      <div class=\"progress-header\">\n        <span>Occupied: {{ lot.totalSpots - lot.availableSpots }} spots</span>\n        <span>Available: {{ lot.availableSpots }} spots</span>\n      </div>\n      <div class=\"progress-bar-large\">\n        <div \n          class=\"progress-fill\" \n          [class]=\"getStatusColor()\"\n          [style.width.%]=\"getOccupancyRate()\">\n        </div>\n      </div>\n    </div>\n\n    <!-- Location & Actions -->\n    <div class=\"action-section\">\n      <h3>üìç Location & Navigation</h3>\n      <div class=\"action-buttons\">\n        <button (click)=\"getDirections()\" class=\"action-btn primary\">\n          <span>üß≠</span>\n          Get Directions\n        </button>\n        <button (click)=\"openInMaps()\" class=\"action-btn secondary\">\n          <span>üó∫Ô∏è</span>\n          View on Map\n        </button>\n      </div>\n      <p class=\"coordinates\">\n        Coordinates: {{ lot.location.lat.toFixed(4) }}, {{ lot.location.lng.toFixed(4) }}\n      </p>\n    </div>\n\n    <!-- Last Updated -->\n    <div class=\"update-info\">\n      <p>Last updated: {{ lot.lastUpdate | date:'short' }}</p>\n    </div>\n\n  </div>\n\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}